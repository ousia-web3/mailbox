# 뉴스 수집 및 필터링 로직 개선 보고서

## 문제 상황

- 구글 뉴스 크롤링은 정상적으로 동작하지만, 최종 뉴스레터에는 "수집된 뉴스가 없습니다"라고 표시됨.
- 이는 수집된 뉴스들이 엄격한 날짜 필터링 조건에 의해 모두 제외되었기 때문으로 추정됨.

## 원인 및 조치 사항

### 1. 네이버 뉴스 크롤링 Fallback 추가

- 기존 검색 소스(구글, 네이버 API, 일반 사이트)에서 결과가 없을 경우, **네이버 뉴스 직접 크롤링**을 시도하도록 로직을 추가했습니다.
- 이를 통해 API나 구글 검색에서 누락된 기사를 보완할 수 있습니다.

### 2. 날짜 검증 기준 완화

- `validate_news_date` 메서드에서 단일 날짜 비교 시 허용 오차를 **±1일에서 ±2일로 확대**했습니다.
- 이는 시차나 발행일 표기 방식의 차이로 인해 유효한 뉴스가 제외되는 것을 방지하기 위함입니다.
- 범위 검색(월요일의 경우 토~일)의 경우 기존대로 해당 범위 내(±1일 여유)에 포함되는지 확인합니다.

## 검증 결과

- 테스트 실행 결과, 구글 뉴스에서 수집된 기사들이 정상적으로 처리되고 있음을 확인했습니다.
- 로그상에서 "날짜 허용 범위 내" 판정을 받는 기사들이 늘어날 것으로 예상됩니다.

## 향후 모니터링

- 다음 발송 시 실제 뉴스레터에 기사가 포함되는지 확인이 필요합니다.
- 만약 여전히 기사가 없다면, 키워드 매칭 로직(`is_relevant_keyword_match`)이 너무 엄격한지 검토해볼 필요가 있습니다.
