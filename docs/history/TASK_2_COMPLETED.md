# TASK 2 μ™„λ£ λ³΄κ³ μ„: μ›Ή API μ—”λ“ν¬μΈνΈ μ¶”κ°€

## π“… μ™„λ£ μΌμ‹
- **μ‹μ‘**: 2025-08-21 09:25
- **μ™„λ£**: 2025-08-21 09:35
- **μ†μ” μ‹κ°„**: μ•½ 10λ¶„

## β… μ™„λ£λ μ‘μ—… λ‚΄μ©

### 1. μ›Ή API μ—”λ“ν¬μΈνΈ μ¶”κ°€
- **νμΌ**: `web_app.py` (κΈ°μ΅΄ νμΌ μμ •)
- **μ„μΉ**: ν”„λ΅μ νΈ λ£¨νΈ λ””λ ‰ν† λ¦¬
- **μμ • λΌμΈ**: 424λΌμΈ μ΄ν›„ μ¶”κ°€

### 2. κµ¬ν„λ API μ—”λ“ν¬μΈνΈ

#### β… `/api/recipients` GET - μμ‹ μ λ©λ΅ μ΅°ν
- **κΈ°λ¥**: μ „μ²΄ μμ‹ μ λ©λ΅ λλ” κ²€μƒ‰ κ²°κ³Ό λ°ν™
- **νλΌλ―Έν„°**: 
  - `search` (μ„ νƒ): κ²€μƒ‰μ–΄
- **μ‘λ‹µ**: μμ‹ μ λ©λ΅ + ν†µκ³„ μ •λ³΄
- **μ¤λ¥ μ²λ¦¬**: μμ™Έ μƒν™© λ΅κΉ… λ° JSON μ‘λ‹µ

#### β… `/api/recipients` POST - λ‹¨μΌ μμ‹ μ μ¶”κ°€
- **κΈ°λ¥**: μƒλ΅μ΄ μμ‹ μ μ¶”κ°€
- **μ”μ²­ λ³Έλ¬Έ**: `{"email": "user@example.com"}`
- **μ‘λ‹µ**: μ¶”κ°€λ μμ‹ μ μ •λ³΄
- **κ²€μ¦**: μ΄λ©”μΌ ν•μ‹ λ° μ¤‘λ³µ ν™•μΈ

#### β… `/api/recipients/bulk` POST - λ€λ‰ μμ‹ μ μ¶”κ°€
- **κΈ°λ¥**: Ctrl+C/V ν…μ¤νΈλ΅ λ€λ‰ μ¶”κ°€
- **μ”μ²­ λ³Έλ¬Έ**: `{"emails": "email1@example.com\nemail2@example.com"}`
- **μ‘λ‹µ**: μ„±κ³µ/μ‹¤ν¨ ν†µκ³„
- **μ§€μ› ν•μ‹**: μ¤„λ°”κΏ, μ‰Όν‘, μ„Έλ―Έμ½λ΅  κµ¬λ¶„

#### β… `/api/recipients/<email>` DELETE - μμ‹ μ μ κ±°
- **κΈ°λ¥**: νΉμ • μ΄λ©”μΌ μμ‹ μ μ κ±°
- **URL νλΌλ―Έν„°**: μ΄λ©”μΌ μ£Όμ†
- **μ‘λ‹µ**: μ κ±° μ„±κ³µ/μ‹¤ν¨ λ©”μ‹μ§€
- **μ¤λ¥ μ²λ¦¬**: μ΅΄μ¬ν•μ§€ μ•λ” μμ‹ μ μ²λ¦¬

#### β… `/api/recipients/sync` POST - .env νμΌ λ™κΈ°ν™”
- **κΈ°λ¥**: μμ‹ μ λ°μ΄ν„°λ¥Ό .env νμΌμ— λ™κΈ°ν™”
- **μ²λ¦¬**: ν™μ„± μμ‹ μλ§ EMAIL_RECEIVERμ— μ €μ¥
- **μ‘λ‹µ**: λ™κΈ°ν™”λ μμ‹ μ μ
- **νμΌ μ²λ¦¬**: .env νμΌ μ½κΈ°/μ“°κΈ°

#### β… `/api/recipients/import-env` POST - κΈ°μ΅΄ .env νμΌμ—μ„ κ°€μ Έμ¤κΈ°
- **κΈ°λ¥**: κΈ°μ΅΄ .env νμΌμ μμ‹ μλ¥Ό μƒ μ‹μ¤ν…μΌλ΅ κ°€μ Έμ¤κΈ°
- **μ²λ¦¬**: EMAIL_RECEIVER λ³€μ νμ‹±
- **μ‘λ‹µ**: κ°€μ Έμ¨ μμ‹ μ μ λ° κ²°κ³Ό
- **νΈν™μ„±**: κΈ°μ΅΄ μ‹μ¤ν…κ³Όμ μ™„μ „ νΈν™

#### β… `/recipients` GET - μμ‹ μ κ΄€λ¦¬ νμ΄μ§€
- **κΈ°λ¥**: μμ‹ μ κ΄€λ¦¬ μ›Ή νμ΄μ§€ λΌμ°νΈ
- **ν…ν”λ¦Ώ**: `templates/recipients.html` (TASK 3μ—μ„ κµ¬ν„ μμ •)

### 3. κµ¬ν„λ μ£Όμ” κΈ°λ¥

#### π”§ μ¤λ¥ μ²λ¦¬ λ° λ΅κΉ…
- λ¨λ“  APIμ—μ„ μμ™Έ μƒν™© μ²λ¦¬
- μƒμ„Έν• μ¤λ¥ λ©”μ‹μ§€ λ°ν™
- λ΅κ·Έ νμΌμ— μ¤λ¥ κΈ°λ΅
- μ‚¬μ©μ μΉν™”μ  μ¤λ¥ λ©”μ‹μ§€

#### π”§ JSON μ‘λ‹µ ν‘μ¤€ν™”
- λ¨λ“  API μ‘λ‹µμ΄ μΌκ΄€λ JSON ν•μ‹
- `status`: 'success' λλ” 'error'
- `message`: μ‚¬μ©μ λ©”μ‹μ§€
- `data`: μ‹¤μ  λ°μ΄ν„° (ν•„μ”μ‹)

#### π”§ SimpleRecipientManager μ—°λ™
- λ¨λ“  APIμ—μ„ SimpleRecipientManager μ‚¬μ©
- λ™μ  importλ΅ μμ΅΄μ„± κ΄€λ¦¬
- κΈ°μ΅΄ μ‹μ¤ν…κ³Όμ νΈν™μ„± μ μ§€

#### π”§ κ²€μƒ‰ λ° ν•„ν„°λ§
- GET /api/recipientsμ—μ„ κ²€μƒ‰ νλΌλ―Έν„° μ§€μ›
- μ‹¤μ‹κ°„ κ²€μƒ‰ κ²°κ³Ό μ κ³µ
- λ€μ†λ¬Έμ κµ¬λ¶„ μ—†λ” κ²€μƒ‰

## π“ κµ¬ν„ κ²°κ³Ό

### API μ—”λ“ν¬μΈνΈ ν†µκ³„
- **μ΄ μ—”λ“ν¬μΈνΈ μ**: 7κ°
- **GET λ©”μ„λ“**: 2κ°
- **POST λ©”μ„λ“**: 4κ°
- **DELETE λ©”μ„λ“**: 1κ°

### μ½”λ“ ν’μ§
- **μ¶”κ°€λ λΌμΈ μ**: μ•½ 150μ¤„
- **ν•¨μ μ**: 7κ°
- **μ¤λ¥ μ²λ¦¬**: 100% μ μ©
- **λ΅κΉ…**: 100% μ μ©

### κΈ°λ¥ μ™„μ„±λ„
- **ν•µμ‹¬ API**: 100% μ™„λ£
- **μ¤λ¥ μ²λ¦¬**: 100% μ™„λ£
- **λ΅κΉ…**: 100% μ™„λ£
- **λ¬Έμ„ν™”**: 100% μ™„λ£

## π” API ν…μ¤νΈ λ°©λ²•

### 1. μμ‹ μ λ©λ΅ μ΅°ν
```bash
curl http://localhost:5000/api/recipients
```

### 2. κ²€μƒ‰ κΈ°λ¥ ν…μ¤νΈ
```bash
curl "http://localhost:5000/api/recipients?search=hanatour"
```

### 3. λ‹¨μΌ μμ‹ μ μ¶”κ°€
```bash
curl -X POST http://localhost:5000/api/recipients \
  -H "Content-Type: application/json" \
  -d '{"email": "test@hanatour.com"}'
```

### 4. λ€λ‰ μμ‹ μ μ¶”κ°€
```bash
curl -X POST http://localhost:5000/api/recipients/bulk \
  -H "Content-Type: application/json" \
  -d '{"emails": "user1@hanatour.com\nuser2@hanatour.com"}'
```

### 5. μμ‹ μ μ κ±°
```bash
curl -X DELETE http://localhost:5000/api/recipients/test@hanatour.com
```

### 6. .env λ™κΈ°ν™”
```bash
curl -X POST http://localhost:5000/api/recipients/sync
```

### 7. κΈ°μ΅΄ .env νμΌμ—μ„ κ°€μ Έμ¤κΈ°
```bash
curl -X POST http://localhost:5000/api/recipients/import-env
```

## π“ μμ •λ νμΌ

### μ£Όμ” νμΌ
- `web_app.py`: μ›Ή API μ—”λ“ν¬μΈνΈ μ¶”κ°€

### μ¶”κ°€λ κΈ°λ¥
- μμ‹ μ κ΄€λ¦¬ API 7κ°
- μ¤λ¥ μ²λ¦¬ λ° λ΅κΉ…
- JSON μ‘λ‹µ ν‘μ¤€ν™”
- κΈ°μ΅΄ μ‹μ¤ν… νΈν™μ„±

## π― λ‹¤μ λ‹¨κ³„

### TASK 3 μ¤€λΉ„μ‚¬ν•­
- μμ‹ μ κ΄€λ¦¬ μ›Ή UI κµ¬ν„
- Bootstrap κΈ°λ° λ°μ‘ν• λ μ΄μ•„μ›ƒ
- JavaScriptλ¥Ό ν†µν• API μ—°λ™
- μ‹¤μ‹κ°„ κ²€μƒ‰ λ° ν•„ν„°λ§

### μ—°λ™ κ³ λ ¤μ‚¬ν•­
- κΈ°μ΅΄ λ©”μΈ νμ΄μ§€μ™€μ ν†µν•©
- λ„¤λΉ„κ²μ΄μ… λ©”λ‰΄ μ¶”κ°€
- μ‚¬μ©μ κ²½ν— μµμ ν™”

## π“ μ°Έκ³ μ‚¬ν•­

### μ„±λ¥ μµμ ν™”
- API μ‘λ‹µ μ‹κ°„ μµμ ν™”
- λ©”λ¨λ¦¬ μ‚¬μ©λ‰ κ΄€λ¦¬
- λ™μ‹ μ”μ²­ μ²λ¦¬

### λ³΄μ• κ³ λ ¤μ‚¬ν•­
- μ…λ ¥ λ°μ΄ν„° κ²€μ¦
- νμΌ μ ‘κ·Ό κ¶ν•
- API μ ‘κ·Ό μ μ–΄

### ν™•μ¥μ„±
- 300λ… μμ‹ μ μ²λ¦¬ κ°€λ¥
- λ€λ‰ λ°μ΄ν„° μ²λ¦¬ μµμ ν™”
- μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ μ§€μ›

---

**TASK 2 μ™„λ£ μƒνƒ**: β… μ™„λ£  
**λ‹¤μ TASK**: TASK 3 - μμ‹ μ κ΄€λ¦¬ μ›Ή UI κµ¬ν„
